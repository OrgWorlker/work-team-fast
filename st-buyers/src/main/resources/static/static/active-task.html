<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="yes" name="apple-touch-fullscreen">
    <meta content="telephone=no,email=no" name="format-detection">
    <!--<script src="http://g.tbcdn.cn/mtb/lib-flexible/0.3.4/??flexible_css.js,flexible.js"></script>-->
    <script src="../scripts/plugins/flexible.js"></script>
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="Shortcut Icon" href="favicon.png" type="image/x-icon">
    <!--<link rel="stylesheet" href="//at.alicdn.com/t/font_pae0fnfml5jt6gvi.css">-->
    <link rel="stylesheet" href="../css/iconfont.css">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/active-task.css">
    <link rel="stylesheet" href="../css/dropload.css">
</head>
<body>
    <div class="activeTask outer">
        <div class="header"><i class="icon iconfont icon-jinlingyingcaiicon01"></i>活动任务</div>
        <div class="top"><p>abc123</p><button class="operateButton">添加</button></div>
        <div class="list">
            <ul class="list-item">
                <!--<li>
                    <div class="left"><p class="username">梧桐落叶飘霜雪</p><p class="browse">浏览</p><div class="label"><span class="labelButton">男</span><span class="labelButton">全国</span><span class="labelButton">18-24岁</span></div></div>
                    <div class="right"><p>0.20金币</p><button class="operateButton">领取任务</button></div>
                </li>
                <li>
                    <div class="left"><p class="username">梧桐落叶飘霜雪</p><p class="browse">浏览</p><div class="label"><span class="labelButton">男</span><span class="labelButton">全国</span><span class="labelButton">18-24岁</span></div></div>
                    <div class="right"><p>0.20金币</p><button class="operateButton">领取任务</button></div>
                </li>
                <li>
                    <div class="left"><p class="username">梧桐落叶飘霜雪</p><p class="browse">浏览</p><div class="label"><span class="labelButton">男</span><span class="labelButton">全国</span><span class="labelButton">18-24岁</span></div></div>
                    <div class="right"><p>0.20金币</p><button class="operateButton">领取任务</button></div>
                </li>
                <li>
                    <div class="left"><p class="username">梧桐落叶飘霜雪</p><p class="browse">浏览</p><div class="label"><span class="labelButton">男</span><span class="labelButton">全国</span><span class="labelButton">18-24岁</span></div></div>
                    <div class="right"><p>0.20金币</p><button class="operateButton">领取任务</button></div>
                </li>
                <li>
                    <div class="left"><p class="username">梧桐落叶飘霜雪</p><p class="browse">浏览</p><div class="label"><span class="labelButton">男</span><span class="labelButton">全国</span><span class="labelButton">18-24岁</span></div></div>
                    <div class="right"><p>0.20金币</p><button class="operateButton">领取任务</button></div>
                </li>-->
            </ul>
        </div>
    </div>
    <script src="../scripts/plugins/jquery-2.1.1.min.js"></script>
    <script src="../scripts/plugins/dropload.js"></script>
    <script>
        $(function () {
            var $wrap = $('.list'),
                $box = $('.list-item'),
            html = '<li>\
                <div class="left"><p class="username">梧桐落叶飘霜雪</p><p class="browse">浏览</p><div class="label"><span class="labelButton">男</span><span class="labelButton">全国</span><span class="labelButton">18-24岁</span></div></div>\
            <div class="right"><p>0.20金币</p><button class="operateButton">领取任务</button></div>\
                </li>';
            var initHtml = html.repeat(10);

            dropload = $wrap.dropload({
                // scrollArea : window,
                // 初始化
                initFn : function(me){
                    me.opts.initFnBefore();//必须执行
                    setTimeout(function(){ //setTimeout只是让dome效果明显，实际使用可去掉
                        $box.html(initHtml);	//这里是加载数据的函数
                        me.resetload();	//每次加载完都需要重置
                        //me.unbind(); 多次调用可用此方法先解绑
                    },2000)
                    me.opts.initFnAfter();//必须执行
                },
                //上滑加载
                loadDownFn : function(me){
                    setTimeout(function(){ //setTimeout只是让dome效果明显，实际使用可去掉
                        $box.append(html);	//这里是加载数据的函数
                        me.resetload();	//每次加载完都需要重置
                        //me.unbind(); 多次调用可用此方法先解绑
                    },1500)

                },
                //下拉刷新
                loadUpFn : function(me){
                    console.log('me',me.$domUp.html())
                    setTimeout(function(){
                        $box.html(initHtml);	//这里是加载数据的函数
                        me.resetload();		//每次加载完都需要重置
                    },1500)
                }
            });
        })
    </script>
</body>
</html>